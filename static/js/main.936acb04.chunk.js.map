{"version":3,"sources":["firebase.js","components/Login.js","components/MainMenu.js","components/GameData.js","components/Lobby.js","components/PlayerDisplay.js","components/PlayerList.js","components/GameRoom.js","components/DataEntry.js","components/AddScoreModal.js","components/Scoreboard.js","components/ResultScreen.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","setPersistence","Auth","Persistence","LOCAL","firebaseDB","database","firebaseAuth","firebaseGoogleAuth","GoogleAuthProvider","Login","props","state","userName","photoURL","uid","onLogin","bind","signInWithPopup","then","setState","currentUser","displayName","ref","once","data","child","exists","update","photo","set","lifeTimeScore","gamesWon","gamesLost","winPercentage","history","push","className","Button","size","variant","onClick","this","React","Component","withRouter","MainMenu","joinGameRoom","createGameRoom","time","Date","toDateString","toLocaleTimeString","split","join","newRoom","date","status","players","Total","key","varient","GameData","joinGame","spectateGame","roomId","on","val","off","spectator","Lobby","gameRooms","orderByKey","limitToLast","rooms","Object","keys","forEach","map","room","PlayerDisplay","name","playerId","nextProps","src","alt","PlayerList","playerInfo","player","index","GameRoom","match","params","startGame","leaveGame","playerIds","id","roomRef","length","remove","disabled","DataEntry","value","AddScoreModal","target","points","submitData","handlePointChange","handleTargetChange","gameroomRef","parseInt","Math","pow","onHide","event","console","log","checked","filter","x","Modal","show","centered","aria-labelledby","Header","closeButton","Body","Form","Group","controlId","Label","Check","type","label","onChange","Control","defaultValue","as","htmlSize","custom","Footer","Scoreboard","scores","showModal","addScore","endGame","playerContainer","updatedScores","total","entry","entries","targetId","record","sort","a","b","Table","responsive","striped","bordered","hover","location","ResultScreen","payingPlayers","billAmount","payout","handleBill","handleNPC","calcBill","breakDown","amount","i","payment","toFixed","includes","splice","Row","column","Col","placeholder","object","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.936acb04.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\r\n  authDomain: \"mj-scoreboard.firebaseapp.com\",\r\n  databaseURL: \"https://mj-scoreboard.firebaseio.com\",\r\n  projectId: \"mj-scoreboard\",\r\n  storageBucket: \"mj-scoreboard.appspot.com\",\r\n  messagingSenderId: \"3716289166\",\r\n  appId: \"1:3716289166:web:597dee87a3669d1dfdefdf\",\r\n  measurementId: \"G-FGVHKZXNW0\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nfirebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);\r\n\r\nexport default firebase;\r\n\r\nexport const firebaseDB = firebase.database();\r\nexport const firebaseAuth = firebase.auth();\r\nexport const firebaseGoogleAuth = new firebase.auth.GoogleAuthProvider();\r\n","import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {firebaseAuth, firebaseGoogleAuth, firebaseDB} from \"../firebase\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport \"./StyleComponents.css\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userName: \"\",\r\n      photoURL: \"\",\r\n      uid: \"\"\r\n    }\r\n    this.onLogin = this.onLogin.bind(this);\r\n  }\r\n\r\n//Write user data to server when logged in.\r\n  onLogin() {\r\n\r\n    firebaseAuth.signInWithPopup(firebaseGoogleAuth).then(() => {\r\n      this.setState({\r\n        userName: firebaseAuth.currentUser.displayName,\r\n        photoURL: firebaseAuth.currentUser.photoURL,\r\n        uid: firebaseAuth.currentUser.uid\r\n      });\r\n\r\n      const ref = firebaseDB.ref(\"userProfiles\");\r\n      ref.once(\"value\").then(data => {\r\n        if(data.child(firebaseAuth.currentUser.uid).exists()){\r\n          ref.child(firebaseAuth.currentUser.uid).update({\r\n            photo: this.state.photoURL,\r\n            displayName: this.state.userName\r\n          })\r\n        }else{\r\n          data.child(firebaseAuth.currentUser.uid).set({\r\n            photo: this.state.photoURL,\r\n            displayName: this.state.userName,\r\n            lifeTimeScore: 0,\r\n            gamesWon: 0,\r\n            gamesLost: 0,\r\n            winPercentage: 0\r\n          })\r\n        }\r\n      });\r\n      this.props.history.push(\"/MainMenu\");\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"BasicScreen\">\r\n    <h1>MJ Scoreboard</h1>\r\n      <Button size=\"lg\" variant=\"primary\" onClick={this.onLogin}> Google Login </Button>\r\n      </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {firebaseAuth, firebaseDB} from \"../firebase\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass MainMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.joinGameRoom = this.joinGameRoom.bind(this);\r\n    this.createGameRoom = this.createGameRoom.bind(this);\r\n  }\r\n\r\n  joinGameRoom(){\r\n    this.props.history.push(\"/Lobby\");\r\n  }\r\n\r\n  createGameRoom(){\r\n    let time = new Date().toDateString() + \" \" + new Date().toLocaleTimeString();\r\n    time = time.split(\" \");\r\n    time = time.join(\"-\");\r\n\r\n    const roomRef = firebaseDB.ref(\"gamerooms/\");\r\n    const newRoom = roomRef.push({\r\n      date: time,\r\n      status: \"Open\",\r\n      players: {[firebaseAuth.currentUser.uid]: {Total: 0}}\r\n    })\r\n\r\n    this.props.history.push(\"/GameRoom/\" + newRoom.key);\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"BasicScreen\">\r\n    <h1> Main Menu </h1>\r\n    <Button onClick={this.joinGameRoom} varient=\"primary\">Join Game</Button><br/>\r\n    <Button onClick={this.createGameRoom} varient = \"primary\"> Create Game </Button>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(MainMenu);\r\n","import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {firebaseDB, firebaseAuth} from \"../firebase\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n//The display when searching for game in Lobby\r\nclass GameData extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      status: \"Open\",\r\n      ref: \"\",\r\n      date: \"\"\r\n    }\r\n\r\n    this.joinGame = this.joinGame.bind(this);\r\n    this.spectateGame = this.spectateGame.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    const ref = firebaseDB.ref(\"gamerooms\").child(this.props.roomId);\r\n    ref.on(\"value\", (data) => {\r\n      this.setState({\r\n        status: data.val().status,\r\n        ref: ref,\r\n        date: data.val().date\r\n      })\r\n    })\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.state.ref.child(\"status\").off();\r\n  }\r\n\r\n  joinGame(){\r\n    this.state.ref.off();\r\n    const playerListRef = firebaseDB.ref(\"gamerooms/\"+this.props.roomId+\"/players\");\r\n    playerListRef.update({\r\n      [firebaseAuth.currentUser.uid]: {\r\n        Total: 0\r\n      }\r\n    })\r\n    this.props.history.push(\"/Gameroom/\"+this.props.roomId);\r\n  }\r\n\r\n  spectateGame(){\r\nthis.props.history.push(\"/Scoreboard/\"+this.props.roomId, {spectator: true});\r\n  }\r\n\r\n  render(props){\r\n    return <div>\r\n    <hr/>\r\n    <h3>{this.state.date}</h3>\r\n    <p><strong>Status: </strong>{this.state.status}</p>\r\n    {this.state.status === \"Open\" && <><Button onClick={this.joinGame} varient=\"Primary\">Join</Button><br/></>}\r\n    {this.state.status === \"Playing\" && <Button onClick={this.spectateGame} varient=\"Secondary\">Spectate</Button>}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(GameData);\r\n","import React from \"react\";\r\nimport GameData from \"./GameData\";\r\nimport {firebaseDB} from \"../firebase.js\";\r\n\r\nclass Lobby extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state ={\r\n      gameRooms: [],\r\n      ref: \"\"\r\n    }\r\n  }\r\n\r\ncomponentDidMount(){\r\n  const ref = firebaseDB.ref(\"gamerooms\");\r\n  ref.orderByKey().limitToLast(5).on(\"value\", (data) => {\r\n    //getting the list of gamerooms made and storing the ids into array\r\n    let rooms = [];\r\n    Object.keys(data.val()).forEach(key =>{\r\n      rooms.push(key);\r\n    })\r\n    this.setState({\r\n      gameRooms: rooms,\r\n      ref: ref\r\n    });\r\n  })\r\n}\r\n\r\ncomponentWillUnmount(){\r\n  this.state.ref.off();\r\n}\r\n\r\n  render(){\r\n    return <div>\r\n    <h1>Game Rooms</h1>\r\n    {this.state.gameRooms.map(room =>\r\n      <GameData key={room} roomId={room} />\r\n      )}\r\n\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Lobby;\r\n","import React from \"react\";\r\nimport {firebaseDB} from \"../firebase\";\r\nimport \"./StyleComponents.css\";\r\n\r\n\r\nclass PlayerDisplay extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      photo: \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const profileRef = firebaseDB.ref(\"userProfiles\").child(this.props.playerId);\r\n\r\n    profileRef.once(\"value\", data => {\r\n      this.setState({\r\n        name: data.val().displayName,\r\n        photo: data.val().photo\r\n      })\r\n    })\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    const profileRef = firebaseDB.ref(\"userProfiles\").child(nextProps.playerId);\r\n\r\n    profileRef.once(\"value\", data => {\r\n      this.setState({\r\n        name: data.val().displayName,\r\n        photo: data.val().photo\r\n      })\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return <div>\r\n    <img className=\"profilePicture\" src={this.state.photo} alt=\"profile\"/>\r\n    <p>{this.state.name}</p>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default PlayerDisplay;\r\n","import React from \"react\";\r\nimport PlayerDisplay from \"./PlayerDisplay\";\r\n\r\n\r\nclass PlayerList extends React.Component{\r\n\r\n  render(){\r\n    //console.log(this.props.playerInfo.join(\",\"));\r\n    return <ol>\r\n    {this.props.playerInfo.map((player,index) => <li key={index}><PlayerDisplay playerId={player}/></li>)}\r\n    </ol>\r\n  }\r\n}\r\n\r\nexport default PlayerList;\r\n","import React from \"react\";\r\nimport {firebaseDB, firebaseAuth} from \"../firebase\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport PlayerList from \"./PlayerList\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n\r\nclass GameRoom extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      roomId: this.props.match.params.roomId,\r\n      playerInfo: [],\r\n      ref: \"\"\r\n    }\r\n\r\n    this.startGame = this.startGame.bind(this);\r\n    this.leaveGame = this.leaveGame.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n//When a player leaves/joins gameroom, update playerIds\r\n    const ref = firebaseDB.ref(\"gamerooms/\"+this.state.roomId);\r\n    ref.child(\"status\").on(\"value\", state => {\r\n      if(state.val() === \"Playing\"){\r\n        this.props.history.push(\"/Scoreboard/\" + this.state.roomId, {playerInfo: this.state.playerInfo});\r\n      }\r\n    })\r\n\r\n    ref.child(\"players\").on(\"value\", (players) => {\r\n      let playerIds = [];\r\n\r\n      Object.keys(players.val()).forEach(id =>{\r\n        playerIds.push(id);\r\n        this.setState({\r\n          playerInfo: playerIds,\r\n          ref: ref\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.state.ref.child(\"status\").off();\r\n  }\r\n\r\n  startGame(){\r\n    //Update room status and redirect to scoreboard component\r\n    const stateRef = firebaseDB.ref(\"gamerooms/\"+this.props.match.params.roomId);\r\n    stateRef.update({\r\n      status: \"Playing\"\r\n    })\r\n  }\r\n\r\n  leaveGame(){\r\n    const roomRef = firebaseDB.ref(\"gamerooms/\"+this.props.match.params.roomId);\r\n    this.state.ref.child(\"players\").off();\r\n\r\n//Remove player, if last player in room, delete room from server\r\n    if(this.state.playerInfo.length > 1){\r\n      roomRef.child(\"/players/\"+firebaseAuth.currentUser.uid).remove()\r\n    }else{\r\n      roomRef.remove();\r\n    }\r\n    this.props.history.push(\"/MainMenu\");\r\n  }\r\n\r\n  render(){\r\n    return <div>\r\n    <h2>{this.state.roomId}</h2>\r\n    <PlayerList playerInfo={this.state.playerInfo}/>\r\n    <Button disabled={this.state.playerInfo.length < 4} onClick={this.startGame} variant=\"success\">Start</Button>\r\n    <Button onClick={this.leaveGame} variant=\"danger\">Cancel</Button>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(GameRoom);\r\n//<PlayerList roomId={this.state.roomId}/>\r\n","import React from \"react\";\r\nimport {firebaseDB} from \"../firebase\";\r\n\r\n//Data displayed for each scoreboard entry\r\nclass DataEntry extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      value: \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const profileRef = firebaseDB.ref(\"userProfiles\").child(this.props.name);\r\n\r\n    profileRef.once(\"value\", data => {\r\n      this.setState({\r\n        name: data.val().displayName,\r\n        value: this.props.value\r\n      })\r\n    })\r\n  }\r\n  render(){\r\n    return <td>\r\n    {this.state.name}<br/>\r\n    {this.state.value}\r\n    </td>\r\n  }\r\n}\r\n\r\nexport default DataEntry;\r\n","import React from \"react\";\r\nimport {firebaseDB, firebaseAuth} from \"../firebase\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport PlayerDisplay from \"./PlayerDisplay\";\r\nimport \"./StyleComponents.css\";\r\n\r\n\r\nclass AddScoreModal extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      target: [],\r\n      points: 3\r\n    }\r\n\r\n    this.submitData = this.submitData.bind(this);\r\n    this.handlePointChange = this.handlePointChange.bind(this);\r\n    this.handleTargetChange = this.handleTargetChange.bind(this);\r\n  }\r\n\r\n  submitData(){\r\n    const gameroomRef = firebaseDB.ref(\"gamerooms/\"+this.props.roomId+\"/players\");\r\n\r\n    let points = parseInt(this.state.points);\r\n\r\n//Normal win\r\n    if(this.state.target.length === 1){\r\n      if(points > 10){\r\n        points = 10;\r\n      }\r\n      gameroomRef.child(this.state.target[0]).push({\r\n        [firebaseAuth.currentUser.uid]: Math.pow(2, points+2) * -1\r\n      });\r\n      gameroomRef.child(firebaseAuth.currentUser.uid).push({\r\n        [this.state.target[0]]: Math.pow(2,points+2)\r\n      });\r\n//Self draw win\r\n    }else if(this.state.target.length === 3){\r\n      if(points > 11){\r\n        points = 11;\r\n      }\r\n      this.state.target.forEach(player => {\r\n        gameroomRef.child(player).push({\r\n          [firebaseAuth.currentUser.uid]: Math.pow(2, points+1) * -1\r\n        });\r\n        gameroomRef.child(firebaseAuth.currentUser.uid).push({\r\n          [player]: Math.pow(2, points+1)\r\n        });\r\n      })\r\n\r\n    }\r\n\r\n    this.setState({\r\n      target: [],\r\n      points: 3\r\n    })\r\n\r\n    this.props.onHide();\r\n  }\r\n\r\n  handlePointChange(event){\r\n    console.log(event.target.value);\r\n    this.setState({\r\n      points: event.target.value\r\n    });\r\n  }\r\n\r\n  handleTargetChange(event){\r\n    if(event.target.checked){\r\n      this.setState({\r\n        target: [...this.state.target, event.target.id]\r\n      })\r\n    }else{\r\n      this.setState({\r\n        target: this.state.target.filter(x => x !== event.target.id)\r\n      })\r\n    }\r\n  }\r\n  // {this.props.players.map((player,index) => {\r\n  //   return <Form.Check id={player.uid||\"\"} key={index} type=\"checkbox\" label=<PlayerDisplay playerId={player.uid||\"\"}/> onChange={this.handleTargetChange} disabled={(player.uid||\"\") === firebaseAuth.currentUser.uid}/>\r\n  // })}\r\n  render(){\r\n    return <Modal show={this.props.show} onHide={this.props.onHide} centered aria-labelledby=\"contained-modal-title-vcenter\">\r\n    <Modal.Header closeButton>\r\n    <strong>Add Score</strong>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n\r\n    <Form>\r\n      <Form.Group controlId=\"formTargets\">\r\n        <Form.Label><strong>Players</strong></Form.Label>\r\n        {this.props.players.map((player,index) => {\r\n          return <Form.Check id={player.uid} key={index} type=\"checkbox\" label=<PlayerDisplay playerId={player.uid}/> onChange={this.handleTargetChange} disabled={(player.uid) === firebaseAuth.currentUser.uid}/>\r\n        })}\r\n\r\n      </Form.Group>\r\n      <Form.Group controlId=\"formPoints\">\r\n        <Form.Label><strong>Points Won</strong></Form.Label>\r\n        <Form.Control defaultValue={3} as=\"select\" htmlSize=\"5\" custom onChange={this.handlePointChange}>\r\n          <option>3</option>\r\n          <option>4</option>\r\n          <option>5</option>\r\n          <option>6</option>\r\n          <option>7</option>\r\n          <option>8</option>\r\n          <option>9</option>\r\n          <option>10</option>\r\n          <option>11</option>\r\n          <option>12</option>\r\n          <option>13</option>\r\n          <option>14</option>\r\n          <option>15</option>\r\n          <option>16</option>\r\n          <option>17</option>\r\n          <option>18</option>\r\n          <option>19</option>\r\n          <option>20</option>\r\n        </Form.Control>\r\n      </Form.Group>\r\n    </Form>\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n    <Button onClick={this.submitData}>Submit</Button>\r\n    </Modal.Footer>\r\n    </Modal>\r\n\r\n}\r\n}\r\n\r\nexport default AddScoreModal;\r\n","import React from \"react\";\r\nimport {firebaseDB} from \"../firebase\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport DataEntry from \"./DataEntry\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport PlayerDisplay from \"./PlayerDisplay\";\r\nimport AddScoreModal from \"./AddScoreModal\";\r\n\r\n\r\nclass Scoreboard extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      scores: [],\r\n      roomId: this.props.match.params.roomId,\r\n      showModal: false,\r\n      ref: \"\"\r\n    }\r\n\r\n    this.addScore = this.addScore.bind(this);\r\n    this.endGame = this.endGame.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    const roomRef = firebaseDB.ref(\"gamerooms/\"+this.state.roomId);\r\n\r\n    roomRef.child(\"status\").on(\"value\", state => {\r\n      if(state.val() === \"Closed\"){\r\n        this.props.history.push(\"/Result/\"+this.state.roomId, {data: this.state.scores});\r\n      }\r\n    })\r\n\r\n    roomRef.child(\"players\").on(\"value\", (data) => {\r\n      let playerContainer = [];\r\n      let updatedScores = [];\r\n      data.forEach(player => {\r\n        updatedScores = [];\r\n        let total = 0;\r\n        //Iterates through every score entry\r\n        Object.keys(player.val()).forEach(entry => {\r\n          //Record the name and score change for this entry in order\r\n          Object.entries(player.child(entry).val()).forEach(([key,value]) => {\r\n            updatedScores.push({\r\n              targetId: key,\r\n              value: value\r\n            });\r\n            total += value;\r\n          })\r\n        })\r\n        playerContainer.push({\r\n          uid: player.key,\r\n          record: updatedScores,\r\n          total: total\r\n        });\r\n\r\n      });\r\n      this.setState({\r\n        scores: playerContainer.sort((a,b) => b.total-a.total),\r\n        ref: roomRef\r\n      });\r\n    })\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.state.ref.child(\"players\").off();\r\n    this.state.ref.child(\"status\").off();\r\n  }\r\n\r\n  addScore(){\r\n    this.setState({showModal: true});\r\n  }\r\n\r\n  endGame(){\r\n    const stateRef = firebaseDB.ref(\"gamerooms/\"+this.props.match.params.roomId);\r\n    stateRef.update({status: \"Closed\"});\r\n  }\r\n\r\n\r\n  render(){\r\n    return <div>\r\n    <h2>Scores {this.state.roomId}</h2>\r\n    <Table responsive striped bordered hover variant=\"dark\">\r\n    <tbody>\r\n      {this.state.scores.map((player,index) => {\r\n        return <tr key={index}>\r\n          <td>{index+1}</td>\r\n          <td><PlayerDisplay playerId={player.uid}/></td>\r\n          <td><strong>Total<br/>{player.total}</strong></td>\r\n          {player.record.map((entry,index) => <DataEntry key={index} name={entry.targetId} value={entry.value}/>)}\r\n          </tr>\r\n      })}\r\n    </tbody>\r\n    </Table>\r\n    <Button onClick={this.addScore} variant=\"primary\" disabled={this.props.location.state.spectator}>Add Score</Button>\r\n    <Button onClick={this.endGame} variant=\"danger\" disabled={this.props.location.state.spectator}>End Game</Button>\r\n\r\n    <AddScoreModal roomId={this.state.roomId} players={this.state.scores} show={this.state.showModal} onHide={() => this.setState({showModal: false})}/>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(Scoreboard);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from 'react-bootstrap/Col'\r\nimport PlayerDisplay from \"./PlayerDisplay\";\r\n\r\nclass ResultScreen extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: this.props.location.state.data,\r\n      payingPlayers: [],\r\n      billAmount: \"\",\r\n      payout: []\r\n    }\r\n\r\n    this.handleBill = this.handleBill.bind(this);\r\n    this.handleNPC = this.handleNPC.bind(this);\r\n    this.calcBill = this.calcBill.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    let players = []\r\n    this.state.data.forEach(player =>{\r\n      players.push(player.uid);\r\n    })\r\n\r\n    this.setState({\r\n      payingPlayers: players\r\n    })\r\n  }\r\n\r\n  componentWillUnmount(){\r\n\r\n  }\r\n\r\n  handleBill(event){\r\n    this.setState({\r\n      billAmount: event.target.value\r\n    })\r\n  }\r\n\r\n  handleNPC(event){\r\n//remove player from paying pool if checked\r\n    if(event.target.checked){\r\n      this.setState({\r\n        payingPlayers: this.state.payingPlayers.filter(player => player !== event.target.id)\r\n      })\r\n    }else{\r\n      this.setState({\r\n        payingPlayers: [...this.state.payingPlayers, event.target.id]\r\n      })\r\n    }\r\n  }\r\n\r\n  calcBill(){\r\n    const size = this.state.payingPlayers.length;\r\n    const breakDown = [[0, 0.3, 0.7],\r\n    [0, 0.2, 0.3, 0.5],\r\n    [0, 0.15, 0.2, 0.3, 0.35],\r\n    [0, 0, 0.15, 0.2, 0.3, 0.35],\r\n    [0, 0, 0.1, 0.15, 0.2, 0.25, 0.3],\r\n    [0, 0, 0, 0.1, 0.15, 0.2, 0.25, 0.3],\r\n    [0, 0, 0, 0.1, 0.1, 0.15, 0.2, 0.2, 0.25],\r\n    [0, 0, 0, 0.05, 0.1, 0.1, 0.15, 0.15, 0.2, 0.25]];\r\n\r\n    let calcBill = [];\r\n    const amount = this.state.billAmount;\r\n\r\n    for(let i = 0; i < size; i++){\r\n      let payment = amount * breakDown[size-3][i];\r\n      calcBill.push(payment.toFixed(2));\r\n    }\r\n    this.state.data.forEach((player, index) => {\r\n      if(!this.state.payingPlayers.includes(player.uid)){\r\n        calcBill.splice(index, 0, 0);\r\n      }\r\n    })\r\n    this.setState({\r\n      payout: calcBill\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return <div>\r\n    <h1>Results</h1>\r\n    <Form>\r\n    <Form.Group as={Form.Row}>\r\n      <Form.Label column>Bill:</Form.Label>\r\n      <Col>\r\n      <Form.Control as=\"input\" type=\"number\" placeholder=\"9.99\" onChange={this.handleBill}/>\r\n      </Col>\r\n      <Col>\r\n      <Button variant=\"primary\" onClick={this.calcBill}>Submit</Button>\r\n      </Col>\r\n    </Form.Group>\r\n    </Form>\r\n\r\n    <Table responsive striped bordered hover variant=\"dark\">\r\n    <tbody>\r\n    {this.state.data.map((object,index) => <tr key={index}>\r\n    <td>NPC<br/><input type=\"checkbox\" id={object.uid} onClick={this.handleNPC}/></td>\r\n    <td><PlayerDisplay playerId={object.uid}/></td>\r\n    <td>{object.total}</td>\r\n    <td>${this.state.payout[index]}</td></tr>)}\r\n    </tbody>\r\n    </Table>\r\n\r\n    <Button variant=\"primary\" onClick={() => this.props.history.push(\"/MainMenu\")}>Main Menu</Button>\r\n\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(ResultScreen);\r\n","import React from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\nimport Login from \"./components/Login\";\r\nimport MainMenu from \"./components/MainMenu\";\r\nimport Lobby from \"./components/Lobby\";\r\nimport GameRoom from \"./components/GameRoom\";\r\nimport Scoreboard from \"./components/Scoreboard\";\r\nimport ResultScreen from \"./components/ResultScreen\";\r\n\r\nfunction App() {\r\n\r\n  return (<Router>\r\n    <div className = \"App\" >\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Login}/>\r\n      <Route path=\"/MainMenu\" component={MainMenu}/>\r\n      <Route path=\"/Lobby\" component={Lobby}/>\r\n      <Route path=\"/Gameroom/:roomId\" component={GameRoom}/>\r\n      <Route path=\"/Scoreboard/:roomId\" component={Scoreboard}/>\r\n      <Route path=\"/Result/:roomId\" component={ResultScreen}/>\r\n    </Switch>\r\n    </div>\r\n  </Router>);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}